<img src="https://github.com/user-attachments/assets/1f28a970-d2a6-4365-bac6-7ef320dc8643">

# 피터패터 (Pitter-Patter)
운동 부족 아이들을 위한 모션 캡처 기반 활동형 게임

## 프로젝트 기간
2024.07.01 - 2024.08.16

## 목차
1. [프로젝트 소개](#프로젝트-소개)
2. [프로젝트 문서](#프로젝트-문서)
3. [사용 기술](#사용-기술)
4. [피터패터 팀원 소개](#피터패터-팀원-소개)
5. [ERD](#erd)
6. [아키텍처 구조도](#아키텍처-구조도)
7. [주요 기능](#주요-기능)

## 프로젝트 소개
**피터패터**는 아동들의 운동 부족 문제를 해결하기 위한 모션 캡처 기반 활동형 게임입니다. 아이들은 다양한 게임 모드를 통해 자연스럽게 운동을 즐길 수 있으며, 부모님은 자녀의 운동량을 모니터링할 수 있습니다. 피터패터는 게임을 통해 아이들이 신체 활동을 재미있게 경험할 수 있도록 돕는 건강한 게임 플랫폼입니다.

## 개발 동기
현대 사회에서 기술의 발전과 더불어 아이들의 활동량이 점차 감소하고 있습니다. 특히 디지털 기기에 대한 의존도가 높아지면서 아동들의 신체 활동 시간이 줄어들고 있으며, 이로 인해 건강 문제 또한 대두되고 있습니다. **피터패터**는 이러한 문제를 해결하고자 아이들이 신나고 즐겁게 참여할 수 있는 게임 형식을 도입해, 자연스럽게 운동량을 늘리고 건강한 생활습관을 형성하도록 돕고자 개발되었습니다. 우리의 목표는 아동들이 게임을 통해 즐겁게 활동하면서도 건강한 성장을 도모하는 것입니다.

## 프로젝트 문서
[Notion](https://zenith-sloth-0ff.notion.site/SSAFY-E204-80bad1e361984fd4862f55122be3be16?pvs=4)
- [기능 명세](https://zenith-sloth-0ff.notion.site/550b1f79da5148deae5d7f3bbc9b52ee)
- [요구사항 명세](https://zenith-sloth-0ff.notion.site/d78d3fa547e04f329e1046aac3fbb7d4?v=07cb5d85397043f994714086df73c2d4)
- [API 명세](https://zenith-sloth-0ff.notion.site/API-c5c04d9df1e3429e98d1352d9783cbff)
- [플로우 차트](https://zenith-sloth-0ff.notion.site/965b4ef4ce5641ec9f52452ef11f9249)
- [ERD](https://zenith-sloth-0ff.notion.site/ERD-8ac122a669e846cebf7f6d8ceebeedc0)

## 사용 기술

| **프론트엔드** | **백엔드** | **게임엔진** | **인프라** | **협업** |
| :---: | :---: | :---: | :---: | :---: |
| ![React](https://img.shields.io/badge/-React-61DAFB?style=flat-square&logo=react&logoColor=black) | ![Java](https://img.shields.io/badge/-Java-007396?style=flat-square&logo=java) | ![Unity](https://img.shields.io/badge/-Unity-000000?style=flat-square&logo=unity) | ![Jenkins](https://img.shields.io/badge/-Jenkins-D24939?style=flat-square&logo=jenkins&logoColor=white) | ![GitLab](https://img.shields.io/badge/-GitLab-FC6D26?style=flat-square&logo=gitlab&logoColor=white) |
| ![Redux](https://img.shields.io/badge/-Redux-764ABC?style=flat-square&logo=redux) | ![Spring Boot](https://img.shields.io/badge/-Spring_Boot-6DB33F?style=flat-square&logo=spring-boot&logoColor=white) | ![Mediapipe](https://img.shields.io/badge/-Mediapipe-4285F4?style=flat-square&logo=mediapipe&logoColor=white) | ![Docker](https://img.shields.io/badge/-Docker-2496ED?style=flat-square&logo=docker&logoColor=white) | ![Gerrit](https://img.shields.io/badge/-Gerrit-F55000?style=flat-square&logo=gerrit) |
| ![Styled Components](https://img.shields.io/badge/-Styled%20Components-DB7093?style=flat-square&logo=styled-components&logoColor=white) | ![JPA](https://img.shields.io/badge/-JPA-6DB33F?style=flat-square&logo=spring&logoColor=white) |  | ![Kubernetes](https://img.shields.io/badge/-Kubernetes-326CE5?style=flat-square&logo=kubernetes&logoColor=white) | ![Jira](https://img.shields.io/badge/-Jira-0052CC?style=flat-square&logo=jira) |
| ![Axios](https://img.shields.io/badge/-Axios-5A29E4?style=flat-square&logo=axios) | ![QueryDSL](https://img.shields.io/badge/-QueryDSL-000000?style=flat-square) |  | ![Grafana](https://img.shields.io/badge/-Grafana-F46800?style=flat-square&logo=grafana&logoColor=white) | ![Notion](https://img.shields.io/badge/-Notion-000000?style=flat-square&logo=notion) |
| ![React Unity WebGL](https://img.shields.io/badge/-React%20Unity%20WebGL-000000?style=flat-square&logo=react) | ![MySQL](https://img.shields.io/badge/-MySQL-4479A1?style=flat-square&logo=mysql&logoColor=white) |  | ![Prometheus](https://img.shields.io/badge/-Prometheus-E6522C?style=flat-square&logo=prometheus&logoColor=white) |  |

## 🍞 피터패터 팀원 소개 🍞

<table style="table-layout: fixed; width: 100%;">
  <tr>
    <td style="text-align: center;">
        <img src="https://ssafy.b-cdn.net/image/4dcf45a7-adc9-4315-86e0-754e4eb9d8431723789807104.jpeg" width="150px" height="150px" style="object-fit: cover;">
    </td>
    <td style="text-align: center;">
        <img src="https://avatars.githubusercontent.com/u/30901178?v=4" width="150px" height="150px" style="object-fit: cover;">
    </td>
    <td style="text-align: center;">
        <img src="https://avatars.githubusercontent.com/u/149301473?v=4" width="150px" height="150px" style="object-fit: cover;">
    </td>
    <td style="text-align: center;">
        <img src="https://ssafy.b-cdn.net/image/fbe71ce7-9684-4288-9070-b5867c79656f1723790085626.jpeg" width="150px" height="150px" style="object-fit: cover;">
    </td>
    <td style="text-align: center;">
        <img src="/uploads/7e7d2ed7e2f16273261908fb6dc8d619/KakaoTalk_20240901_232001184.jpg" width="150px" height="150px" style="object-fit: cover;">
    </td>
    <td style="text-align: center;">
        <img src="https://ssafy.b-cdn.net/image/64bc64b5-8b79-4bc9-aa44-fc07d85e59691723790117080.jpeg" width="150px" height="150px" style="object-fit: cover;">
    </td>
  </tr>
  <tr>
    <td style="text-align: center; word-wrap: break-word;">손배준</td>
    <td style="text-align: center; word-wrap: break-word;">김상범</td>
    <td style="text-align: center; word-wrap: break-word;">임경태</td>
    <td style="text-align: center; word-wrap: break-word;">윤예리</td>
    <td style="text-align: center; word-wrap: break-word;">서지헌</td>
    <td style="text-align: center; word-wrap: break-word;">이승민</td>
  </tr>
  <tr>
    <td style="text-align: center; word-wrap: break-word;">팀장<br>Backend<br>발표</td>
    <td style="text-align: center; word-wrap: break-word;">Lead Developer<br>Infra Manager</td>
    <td style="text-align: center; word-wrap: break-word;">Game Client<br>AI</td>
    <td style="text-align: center; word-wrap: break-word;">Frontend</td>
    <td style="text-align: center; word-wrap: break-word;">Backend<br>Frontend<br>서기</td>
    <td style="text-align: center; word-wrap: break-word;">Backend<br>UCC 영상편집</td>
  </tr>
  <tr>
    <td style="text-align: center; word-wrap: break-word;">▪ API 및 DB 설계<br>▪ 자녀 API 구현<br>▪ 자녀 페이지 프론트 개발 <br>▪ 발표 진행</td>
    <td style="text-align: center; word-wrap: break-word;">▪ 인프라 설계/구축<br>▪ CI/CD 구축<br>▪ 개발 감독</td>
    <td style="text-align: center; word-wrap: break-word;">▪ Unity 게임 클라이언트 디자인, 구현, 테스트<br>▪ AI 모션인식 MediaPipe 연결<br>▪ Unity & React WebGL 연결 및 데이터 교신<br>▪ 프론트엔드 웹캠 & 게임 페이지 구현</td>
    <td style="text-align: center; word-wrap: break-word;">▪ UI/UX 기획 및 설계<br>▪ 프론트엔드 구조 설계 및 개발<br>▪ axios를 통한 서버 연결<br>▪ Redux 설계 및 구현<br>▪ 발표 자료 제작</td>
    <td style="text-align: center; word-wrap: break-word;">▪ API 및 DB 설계<br>▪ 유저 및 인증·인가 관련 API 구현<br>▪ 유저 관련 페이지 프론트 개발<br>▪ 노션 작성</td>
    <td style="text-align: center; word-wrap: break-word;">▪ API 및 DB 설계<br>▪ item, point record 관련 API 구현<br>▪ Axios 요청 <br>▪ 출석관련 컴포넌트 제작<br>▪ UCC 영상편집<br>▪ 전문가 인터뷰</td>
  </tr>
</table>

## ERD
<img src="https://github.com/user-attachments/assets/865f456f-0556-43aa-8542-9dfa4e09d57e">

## 아키텍처 구조도
<img src="https://github.com/user-attachments/assets/eddd650b-8ca7-4319-93f9-68518b99f55b">

## 주요 기능

<table style="width:100%; table-layout:fixed;">
  <tr>
    <td align="center" style="vertical-align:top; padding:20px;">
      <div style="font-size:1.25em;"><strong>게임 메인 페이지</strong></div>
      <div style="padding-top:20px;">
        <img src="https://github.com/user-attachments/assets/5f5fd298-905a-42ba-a798-10ac266c3675" width="300px" style="border:1px solid #ddd;">
      </div>
    </td>
    <td align="center" style="vertical-align:top; padding:20px;">
      <div style="font-size:1.25em;"><strong>랭킹</strong></div>
      <div style="padding-top:20px;">
        <img src="https://github.com/user-attachments/assets/91e4b3ed-ca55-4262-b72e-0d5ae2bbd0d6" width="300px" style="border:1px solid #ddd;">
      </div>
    </td>
    <td align="center" style="vertical-align:top; padding:20px;">
      <div style="font-size:1.25em;"><strong>인생 네컷</strong></div>
      <div style="padding-top:20px;">
        <img src="https://github.com/user-attachments/assets/86a625b4-2bbc-4ddc-aea0-57e9812bea86" width="300px" style="border:1px solid #ddd;">
      </div>
    </td>
  </tr>
  <tr>
    <td align="center" style="vertical-align:top; padding:20px;">
      <div style="font-size:1.25em;"><strong>댄스타임</strong></div>
      <div style="padding-top:20px;">
        <img src="./assets/3번게임.gif" width="300px" style="border:1px solid #ddd;">
      </div>
    </td>
    <td align="center" style="vertical-align:top; padding:20px;">
      <div style="font-size:1.25em;"><strong>그림과 같은 포즈 취하기</strong></div>
      <div style="padding-top:20px;">
        <img src="./assets/1번게임.gif" width="300px" style="border:1px solid #ddd;">
      </div>
    </td>
    <td align="center" style="vertical-align:top; padding:20px;">
      <div style="font-size:1.25em;"><strong>움직이는 벽에 맞춰 따라 움직이기</strong></div>
      <div style="padding-top:20px;">
        <img src="./assets/2번게임.gif" width="300px" style="border:1px solid #ddd;">
      </div>
    </td>
  </tr>
  <tr>
    <td align="center" style="vertical-align:top; padding:20px;">
      <div style="font-size:1.25em;"><strong>자녀 신체 정보 기록</strong></div>
      <div style="padding-top:20px;">
        <img src="https://github.com/user-attachments/assets/6e4281ed-93da-477d-a195-f31ee29d5371" width="300px" style="border:1px solid #ddd;">
      </div>
    </td>
    <td align="center" style="vertical-align:top; padding:20px;">
      <div style="font-size:1.25em;"><strong>BMI 변화량</strong></div>
      <div style="padding-top:20px;">
        <img src="https://github.com/user-attachments/assets/90200efc-ed68-46cb-a2f5-d62d22c4bdb4" width="300px" style="border:1px solid #ddd;">
      </div>
    </td>
    <td align="center" style="vertical-align:top; padding:20px;">
      <div style="font-size:1.25em;"><strong>게임 이용 시간</strong></div>
      <div style="padding-top:20px;">
        <img src="https://github.com/user-attachments/assets/b5e1a814-832c-426f-8f00-7fb9881a3326" width="300px" style="border:1px solid #ddd;">
      </div>
    </td>
  </tr>
</table>

## Unity

게임은 세 개의 주요 라운드로 구성되어 있으며, 각 라운드마다 다른 도전 과제를 제공합니다.
다음은 Unity의 기술적 요소에 대한 설명입니다.

### 1. 설계 패턴의 활용: 싱글톤 패턴과 추상화
Managers 클래스는 싱글톤 패턴을 사용하여 게임의 주요 관리 기능을 중앙 집중화합니다. 이 접근 방식은 여러 씬에서 쉽게 관리 객체에 접근할 수 있도록 하며, 코드의 재사용성과 유지보수성을 높여줍니다.
BaseRound 클래스와 이를 상속받는 Round1, Round2, Round3 클래스는 라운드의 공통 기능을 추상화하고, 각 라운드의 특수성을 상속을 통해 구현함으로써, 코드의 중복을 최소화하고, 새로운 라운드를 추가할 때 쉽게 확장할 수 있는 구조를 제공합니다.

### 2. 비동기 처리: 코루틴(Coroutine)
CoroutineManager 클래스를 통해 비동기적으로 실행되어야 할 작업을 깔끔하게 관리할 수 있습니다. 특히, ShowRoundImage와 같은 코루틴 메서드는 게임의 연출을 부드럽게 처리할 수 있도록 돕습니다. 이 방식은 비동기 작업을 직관적이고 간결하게 작성하게 할 수 있습니다.

### 3. 리소스 캐싱 관리
ResourceManager 클래스는 리소스를 캐싱하여 성능을 최적화합니다. 로드된 리소스가 이미 존재할 경우, 다시 로드하지 않고 캐시된 데이터를 사용하여 메모리와 로딩 시간을 절약합니다.

### 4. 유연한 사운드 시스템
SoundManager 클래스는 BGM과 SFX를 효과적으로 관리할 수 있는 구조를 가지고 있습니다. 이 클래스는 BGM이 끊기지 않고 부드럽게 전환되도록 관리하며, 다양한 사운드를 쉽게 추가하고 재생할 수 있는 확장성 있는 시스템을 제공합니다.

### 5. 플레이어의 동작 처리
PlayerController 클래스는 네트워크에서 받은 데이터를 기반으로 플레이어의 움직임을 매끄럽게 업데이트하는 로직을 포함하고 있습니다. 실시간으로 전달되는 데이터를 처리하여, 오브젝트 위치를 자연스럽게 조정하는 방식으로 동작합니다. 특히, 데이터 전처리와 위치 보간을 통해 애니메이션의 자연스러움을 유지합니다.

### 6. 씬 전환과 BGM 처리의 통합
BaseScene 클래스에서 각 씬이 로드될 때 적절한 BGM을 자동으로 설정하는 방식을 적용했습니다. 이를 통해 코드를 간결하게 유지하면서도 씬 전환 간의 몰입감을 높였습니다.

### 7. 난이도 기반 벽 생성 및 이동
WallGenerator와 WallTrigger 클래스는 게임 난이도에 따라 벽의 생성 속도와 이동 속도를 동적으로 조정하는 기능을 포함하였습니다.
